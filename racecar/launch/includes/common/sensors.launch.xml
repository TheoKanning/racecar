<!-- -*- mode: XML -*- -->
<launch>
  <arg name="racecar_version" />
  <arg name="imu_model" />
  <arg name="sensors_config"
       default="$(find racecar)/config/$(arg racecar_version)/sensors.yaml" />

  <rosparam file="$(arg sensors_config)" command="load" />

  <!-- laser -->
  <node pkg="rplidar_ros" type="rplidarNode" name="laser_node">
      <remap from="scan" to="scan_raw" />
      <param name="angle_compensate" value="true"/>
  </node>

  <!-- laser filter -->
  <node pkg="laser_filters" type="scan_to_scan_filter_chain" name="laser_filter">
      <remap from="scan" to="scan_raw" />
      <remap from="scan_filtered" to="scan" />
  </node>

  <!-- imu -->
  <include file="$(find racecar)/launch/includes/common/sensors/$(arg imu_model).launch.xml" />

</launch>
